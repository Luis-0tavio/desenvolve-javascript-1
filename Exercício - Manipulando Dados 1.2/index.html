<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lista de Tarefas</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  .tarefa-concluida { text-decoration: line-through; color: gray; }
  .tarefa { display: flex; align-items: center; margin-bottom: 5px; }
  .tarefa button { margin-left: 10px; }
</style>
</head>
<body>

<h2>Lista de Tarefas</h2>
<input type="text" id="novaTarefa" placeholder="Digite a tarefa">
<button id="adicionarBtn">Adicionar</button>

<ul id="listaTarefas"></ul>

<script>
  // Recupera tarefas do localStorage ou inicializa vazio
  let tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

  const listaTarefas = document.getElementById('listaTarefas');
  const novaTarefaInput = document.getElementById('novaTarefa');
  const adicionarBtn = document.getElementById('adicionarBtn');

  // Função para salvar tarefas no localStorage
  function salvarTarefas() {
    localStorage.setItem('tarefas', JSON.stringify(tarefas));
  }

  // Função para renderizar a lista de tarefas
  function renderizarTarefas() {
    listaTarefas.innerHTML = '';
    tarefas.forEach((tarefa, index) => {
      const li = document.createElement('li');
      li.className = 'tarefa';

      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.checked = tarefa.status;
      checkbox.addEventListener('change', () => {
        tarefa.status = checkbox.checked;
        salvarTarefas();
        renderizarTarefas();
      });

      const span = document.createElement('span');
      span.textContent = tarefa.descricao;
      if (tarefa.status) span.classList.add('tarefa-concluida');

      const btnExcluir = document.createElement('button');
      btnExcluir.textContent = 'Excluir';
      btnExcluir.addEventListener('click', () => {
        tarefas.splice(index, 1);
        salvarTarefas();
        renderizarTarefas();
      });

      li.appendChild(checkbox);
      li.appendChild(span);
      li.appendChild(btnExcluir);
      listaTarefas.appendChild(li);
    });
  }

  // Adicionar nova tarefa
  adicionarBtn.addEventListener('click', () => {
    const descricao = novaTarefaInput.value.trim();
    if (descricao === '') return;
    tarefas.push({ descricao, status: false });
    salvarTarefas();
    renderizarTarefas();
    novaTarefaInput.value = '';
  });

  // Renderiza tarefas ao carregar a página
  renderizarTarefas();
</script>

</body>
</html>
